```
public void save(Member member)  {}
public Member findOne(Long id) {}
public List<Member> findAll() {}
```
λ€λ¶€λ¶„μ JPAλ” CRUDλ¥Ό λ°λ³µν•΄μ„ κ°λ°ν•λ―€λ΅ μ„μ²λΌ λ°λ³µμ μΈ λ¦¬ν¬μ§€ν† λ¦¬κ°€ λ§μ΄ λ°μƒν•κ² λλ‹¤.
μ΄λ¬ν• μ¤‘λ³µμ€ ```μ λ„¤λ¦­```κ³Ό ```μƒμ†```μ„ μ μ ν μ‚¬μ©ν•΄μ„ ν•΄κ²°ν•  μ μλ‹¤. μ΄λ¥Ό ```GenericDAO```λΌκ³  ν•λ‹¤.
ν•μ§€λ§ μ΄λ” λ¶€λ¨ ν΄λμ¤μ— λ„λ¬΄ μΆ…μ†λκ³ (μμ΅΄λ„κ°€ λ†’μ•„μ§), κµ¬ν„ ν΄λμ¤ μƒμ†μ΄ κ°€μ§€λ” λ‹¨μ (λ‹¤μ¤‘ μƒμ†μ΄ μ•λκ³  μ μ—°ν• μ»¤μ¤ν„°λ§μ΄μ§• λ¶κ°€)μ— λ…Έμ¶λκ² λλ‹¤.

-> μ¬μ‚¬μ©μ€ μΆ‹μ•„μ§€μ§€λ§, κµ¬μ΅°μ μΌλ΅ μ μ—°ν•μ§€ μ•κ³  μ μ§€λ³΄μμ— λ¶λ¦¬ν•λ‹¤.
## 12.1 μ¤ν”„λ§ λ°μ΄ν„° JPA μ†κ°
μ΄μ²λΌ κ³µν†µμΌλ΅ μ‚¬μ©ν•  μ μλ” λ¦¬ν¬μ§€ν† λ¦¬λ¥Ό λ¨μ•„λ‘” ν”„λ μ„ μ›ν¬κ°€ ```Spring Data JPA```μ΄λ‹¤. 
```Spring Framework```μ—μ„ μ‘λ™ν•κ³  JpaRepositoryλ¥Ό μƒμ†λ°›μ•„ μ‚¬μ©ν•λ©΄ λλ‹¤.
μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ‹μ μ—μ„ μ¤ν”„λ  λ°μ΄ν„° JPAκ°€ μƒμ„±ν•΄μ„ ν•„μ”ν• λ¦¬ν¬μ§€ν† λ¦¬(νμ›, μƒν’ λ“±)μ— μ£Όμ…ν•κ² λλ―€λ΅ κ°λ°μκ°€ κµ¬ν„μ²΄λ¥Ό κ°λ°ν•  ν•„μ”κ°€ μ—†λ‹¤.
```
public interface MemberRepository extends JpaRepository<Member, Long> {
}
```
- findById()
- save()
- deleteById()
- findAll()
- count()
- ...

λ§μ•½ κ³µν†µ λ¦¬ν¬μ§€ν† λ¦¬(```Spring Data JPA```)μ— μ—†λ” λ©”μ„λ“λ¥Ό μ‚¬μ©ν•κ³  μ‹¶λ‹¤λ©΄ ```Spring Data JPA```κ°€ λ©”μ„λ“ μ΄λ¦„μ„ λ¶„μ„ν•΄μ„ ```JPQL```μ„ μ‹¤ν–‰ν•λ‹¤.
```
μ) MemberRepository.findByUsername(...)
 -> select m from Member m where username = :username
```

## 12.2 μ¤ν”„λ§ λ°μ΄ν„° JPA μ„¤μ •
1. λΌμ΄λΈλ¬λ¦¬ : spring-data-jpa
2. ν™κ²½μ„¤μ • : <jpa:repositories>

![image](https://github.com/user-attachments/assets/63287a4d-4be7-4ee1-b667-0dccac05fc51)

μ¤ν”„λ§ λ°μ΄ν„° JPAλ” μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹¤ν–‰ν•  λ•, basePackageμ— μλ” λ¦¬ν¬μ§€ μΈν„°νμ΄μ¤λ“¤μ„ μ°Ύμ•„μ„ ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤λ¥Ό λ™μ μΌλ΅ μƒμ„±ν• λ‹¤μ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•λ‹¤.

## 12.3 κ³µν†µ μΈν„°νμ΄μ¤ κΈ°λ¥
![image](https://github.com/user-attachments/assets/e3888d16-1b83-4598-8f67-c68c6cb6c58d)

Repositoryλ¥Ό μƒμ†λ°›κ³ , (λΉκ»λ°μ΄ μΈν„°νμ΄μ¤, λ§μ»¤ μ—­ν• )

CrudRepositoryλ¥Ό μƒμ†λ°›κ³ , (CRUD κΈ°λ¥ μ κ³µ, save, findById, delete, exists, count λ“±)

PagindAndSortingRepositoryλ¥Ό μƒμ†λ°›μ•„μ„ (νμ΄μ§•κ³Ό μ •λ ¬ κΈ°λ¥ μ¶”κ°€, findAll)

JpaRepositoryκ°€ μ™„μ„±λλ‹¤. (κ°€μ¥ ν•μ„κ³  κΈ°λ¥λ„ κ°€μ¥ λ§μ. μ„μ λ‘ μΈν„°νμ΄μ¤λ¥Ό μƒμ†ν•κ³  JPAμ— νΉν™”λ κΈ°λ¥ μ¶”κ°€, flush, saveAndFlush, deleteInBatch, getOne)

μƒμ†λ°›μ•„μ„ μ‚¬μ©ν•λ” μ½”λ“λ” μ•„λμ™€ κ°™μ
```
public interface MemberRepository extends JpaRepository<Member, Long>{
}
```

## 12.4 μΏΌλ¦¬ λ©”μ†λ“ κΈ°λ¥
μ¤ν”„λ§ λ°μ΄ν„° JPAκ°€ μ κ³µν•λ” λ§λ²•κ°™μ€ κΈ°λ¥μ΄λ‹¤.
1. λ©”μ„λ“ μ΄λ¦„μΌλ΅ μΏΌλ¦¬ μƒμ„±
2. λ©”μ„λ“ μ΄λ¦„μ„ JPA NamedQuery νΈμ¶
3. @Query μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄μ„ λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤μ— μΏΌλ¦¬ μ§μ ‘ μ •μ

#### 12.4.1 λ©”μ„λ“ μ΄λ¦„μΌλ΅ μΏΌλ¦¬ μƒμ„±

μ) μ΄λ©”μΌκ³Ό μ΄λ¦„μΌλ΅ νμ›μ„ μ΅°νν•λ” κ²½μ°
```
public interface MemberRepository extends Repository<Member, Long> {
    List<Member> findByEmailAndName(String email, String name);
}
```
μ¤ν”„λ§ λ°μ΄ν„° JPAλ” λ©”μ„λ“ μ΄λ¦„μ„ λ¶„μ„ν•΄μ„ JPQLμ„ μƒμ„±ν•κ³  μ‹¤ν–‰ν•λ‹¤.
```
select m from Member m where m.email = ?1 and m.name = ?2
```
μ •ν•΄μ§„ κ·μΉ™μ— λ”°λΌ λ©”μ„λ“ μ΄λ¦„μ„ μ§€μ„ κ²½μ°μ— λ™μ‘ν•λ” λ°©μ‹μ΄λ©°, μ΄μ— λ€ν• λ°©μ‹μ€ μ¤ν”„λ§ λ°μ΄ν„° JPA κ³µμ‹ λ¬Έμ„μ—μ„ μ κ³µν•λ” ν‘λ¥Ό ν†µν•΄ ν™•μΈν•  μ μλ‹¤.
λ§μ•½ μ—”ν‹°ν‹°μ ν•„λ“λ…μ΄ λ³€κ²½λλ©΄ μΈν„°νμ΄μ¤μ— μ •μν• λ©”μ„λ“ μ΄λ¦„λ„ κΌ­ ν•¨κ» λ³€κ²½ν•΄μ•Ό μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹μ‘ν•  λ• μ¤λ¥κ°€ λ°μƒν•μ§€ μ•λ”λ‹¤.

#### 12.4.2 λ©”μ„λ“ μ΄λ¦„μΌλ΅ JPA NamedQuery νΈμ¶
μ¤ν”„λ§ λ°μ΄ν„° JPAλ” λ©”μ„λ“ μ΄λ¦„μΌλ΅ JPA Named μΏΌλ¦¬λ¥Ό νΈμ¶ν•λ” κΈ°λ¥μ„ μ κ³µν•λ‹¤.

JPA Named μΏΌλ¦¬ : μΏΌλ¦¬μ— μ΄λ¦„μ„ λ¶€μ—¬ν•΄μ„ μ‚¬μ©ν•λ” λ°©λ²•

```
@Entity
@NamedQuery(
    name="Member.findByUsername",
    query="select m from Member m where m.username = :username")
public class Member{
...
}
```
λ§μ•½ JPAμ—μ„ μ§μ ‘ νΈμ¶ν•λ” κ²½μ°λ” μ•„λμ™€ κ°™λ‹¤.
```
public class MemberRepository{
    public List<Member> findByUsername(String username){
        ...
        List<Member> resultList = 
            em.createNamedQuery("Member.findByUsername", Member.class)
                .setParameter("username", "νμ›1")
                .getResultList();
    }
}
```
μ¤ν”„λ§ λ°μ΄ν„° JPAλ¥Ό μ‚¬μ©ν•λ κ²½μ° ν›¨μ”¬ κ°„λ‹¨ν•κ² νΈμ¶ν•  μ μλ‹¤.
```
public interface MemberRepository extends JpaRepository<Member, Long> {
    List<Member> findByUsername(@Param("Username") String username);
}
```
μ¤ν”„λ§ λ°μ΄ν„° JPAλ” μ„ μ–Έν• "λ„λ©”μΈ ν΄λμ¤ + . + λ©”μ„λ“ μ΄λ¦„"μΌλ΅ Named μΏΌλ¦¬λ¥Ό μ°Ύμ•„μ„ μ‹¤ν–‰ν•λ‹¤. 
λ”°λΌμ„ μμ λ” Member.findByUsernameμ΄λΌλ” Named μΏΌλ¦¬λ¥Ό μ‹¤ν–‰ν•λ‹¤.

#### 12.4.3 @Query μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄μ„ λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤μ— μΏΌλ¦¬ μ§μ ‘ μ •μ
λ¦¬ν¬μ§€ν† λ¦¬ λ©”μ„λ“μ— μ§μ ‘ μΏΌλ¦¬λ¥Ό μ •μν•λ ¤λ©΄ ```@org.springframework.data.jpa.repository,.Query``` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ‹¤.

μ‹¤ν–‰ν•  λ©”μ„λ“μ— μ •μ μΏΌλ¦¬λ¥Ό μ§μ ‘ μ‘μ„±ν•λ―€λ΅ μ΄λ¦„μ—†λ” Named μΏΌλ¦¬λΌ ν•  μ μλ‹¤. 

μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ‹μ μ— λ¬Έλ²• μ¤λ¥λ¥Ό λ°κ²¬ν•  μ μλ” μ¥μ μ΄ μλ‹¤.

- JPQL μ‚¬μ© : μ—”ν‹°ν‹°λ…, μ—”ν‹°ν‹°μ ν”„λ΅νΌν‹° λ… μ‚¬μ©
```
@Query("select m from Member m where m.username = ?1")
Member findByUsername(String username);
```

- Native SQL μ‚¬μ© : ν…μ΄λΈ”λ…, μ»¬λΌλ… μ‚¬
```
@Query(value = "SELECT * FROM MEMBER WHERE USERNAME = ?0", nativeQuery = true)
Member findByUsername(String username);
```


π” JPQL vs Native SQL λΉ„κµ

| ν•­λ©             | JPQL                             | λ„¤μ΄ν‹°λΈ SQL                         |
|------------------|----------------------------------|--------------------------------------|
| λ€μƒ             | μ—”ν‹°ν‹° (`Member`)                | μ‹¤μ  ν…μ΄λΈ” (`MEMBER`)              |
| λ¬Έλ²•             | JPA λ¬Έλ²•                         | DB SQL λ¬Έλ²• κ·Έλ€λ΅                   |
| νλΌλ―Έν„° μΈλ±μ¤  | 1λ¶€ν„° μ‹μ‘ (`?1`)                | 0λ¶€ν„° μ‹μ‘ (`?0`)                   |
| μλ™ λ³€ν™        | JPAκ°€ SQLλ΅ λ³€ν™                 | μ§μ ‘ SQL μ‹¤ν–‰                        |
| νΉμ§•             | DB λ…λ¦½μ , νƒ€μ… μ•μ „             | DB μμ΅΄μ , μ„±λ¥ μµμ ν™” κ°€λ¥         |

#### 12.4.4 νλΌλ―Έν„° λ°”μΈλ”©
- JPAλ” μ„μΉ κΈ°λ° νλΌλ―Έν„° λ°”μΈλ”©κ³Ό μ΄λ¦„ κΈ°λ° νλΌλ―Έν„° λ°”μΈλ”©μ„ λ¨λ‘ μ§€μ›ν•λ‹¤.
```
select m from Member m where m.username = ?1 // μ„μΉκΈ°λ°
select m from Member m where m.username = :name //μ΄λ¦„κΈ°λ°
```
ν•μ§€λ§ μ½”λ“ κ°€λ…μ„±κ³Ό μ μ§€λ³΄μλ¥Ό μ„ν•΄ μ΄λ¦„ κΈ°λ° νλ¦¬λ―Έν„° λ°”μΈλ”©μ„ μ‚¬μ©ν•μ.

#### 12.4.5 λ²ν¬μ„± μμ • μΏΌλ¦¬

JPAλ¥Ό μ‚¬μ©ν• λ²ν¬μ„± μμ • μΏΌλ¦¬
```
int bulkPriceUp(String stockAmount){
    ...
    String qlString =
        "update Product p set p.price = p.price * 1.1 where
            p.stockAmount < :stockAmount";
    int resultcount = em.createQuery(qlString)
                          .setParameter("stockAmount", stockAmount)
                          .excuteUpdate();
}
```

μ¤ν”„λ§ λ°μ΄ν„° JPAλ¥Ό μ‚¬μ©ν• λ²ν¬μ„± μμ • μΏΌλ¦¬
```
@Modifying
@Query("update Product p set p.price = p.price * 1.1 where
    p.stockAmount < :stockAmount")
int bulkPriceUp(@Param("stockAmount") String stockAmount);
```

λ²ν¬μ„± μΏΌλ¦¬λ¥Ό μ‹¤ν–‰ν•κ³  λ‚μ„ μμ†μ„± μ»¨ν…μ¤νΈλ¥Ό μ΄κΈ°ν™”ν•κ³  μ‹¶μΌλ©΄ ```@Modifying (clearAutomatically = ture)μ²λΌ clearAutomatically```  μµμ…μ„ μ‚¬μ©ν•λ©΄ λλ‹¤. κΈ°λ³Έκ°’μ€ falseμ΄λ‹¤.

#### 12.4.6 λ°ν™ νƒ€μ…
κ²°κ³Όκ°€ ν•κ±΄ μ΄μƒμ΄λ©΄ μ»¬λ ‰μ… μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•κ³ , λ‹¨κ±΄μ΄λ©΄ λ°ν™νƒ€μ…μ„ μ§€μ •ν•λ‹¤. 

μ΅°ν κ²°κ³Όκ°€ μ—†μΌλ©΄ μ»¬λ ‰μ…μ€ λΉ μ»¬λ ‰μ…μ„ λ°ν™ν•κ³  λ‹¨κ±΄μ€ nullμ„ λ°ν™ν•λ‹¤. 

λ§μ•½ λ‹¨κ±΄μ„ κΈ°λ€ν•κ³  λ°ν™ νƒ€μ…μ„ μ§€μ •ν–λ”λ° κ²°κ³Όκ°€ 2κ±΄ μ΄μƒ μ΅°νλλ©΄ ```javax.persistence.NonUniqueResultException``` μμ™Έκ°€ λ°μƒν•λ‹¤.

#### 12.4.7 νμ΄μ§•κ³Ό μ •λ ¬
- ```org.springframwork.data.domain.Sort```: μ •λ ¬
- ```org.springframwork.data.domain.Pageable```: νμ΄μ§• κΈ°λ¥

#### 12.4.8 ννΈ
- ```org.springframework.data.jpa.repository.QueryHints``` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄ λλ‹¤.

#### 12.4.9 Lock
- μΏΌλ¦¬ μ‹ λ½μ„ κ±Έλ ¤λ©΄ ```org.springframework.data.jpa.repository.Lock``` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄ λλ‹¤. μμ„Έν• λ‚΄μ©μ— λ€ν•΄μ„λ” 16.1μ μ„ μ°Έκ³ ν•μ

## 12.5 λ…μ„Έ == JPA Creiteria
μ μ–΄(predicate) : μ°Έμ΄λ‚ κ±°μ§“μΌλ΅ ν‰κ°€λλ©° AND, ORκ°™μ€ μ—°μ‚°μλ΅ μ΅°ν•©ν•  μ μλ‹¤.

- μ) λ°μ΄ν„°λ¥Ό κ²€μƒ‰ν•κΈ° μ„ν• μ μ•½ μ΅°κ±΄ ν•λ‚ν•λ‚λ¥Ό μ μ–΄λΌκ³  ν•  μ μλ‹¤.

```org.springframework.data.jpa.domain.Specification``` ν΄λμ¤λ΅ μ •μν•λ‹¤.

- Specificationμ€ μ»΄ν¬μ§€νΈ ν¨ν„΄μΌλ΅ κµ¬μ„±λμ–΄ μμ–΄μ„ μ—¬λ¬ Specificationμ„ μ΅°ν•©ν•  μ μλ‹¤. λ”°λΌμ„ λ‹¤μ–‘ν• κ²€μƒ‰ μ΅°κ±΄μ„ μ΅°λ¦½ν•΄μ„ μƒλ΅μ΄ κ²€μƒ‰ μ΅°κ±΄μ„ μ‰½κ² λ§λ“¤ μ μλ‹¤.

μ•„λμ™€ κ°™μ΄ μ‚¬μ©ν•λ©΄ λλ‹¤.

```
public interface OrderRepository extends JpaRepository<Order, Long>, JpaSpecificationExecutor<Order> {
}
```

μμ„Έν• λ‚΄μ©μ€ 10.3μ μ„ μ°Έκ³ ν•μμ

## 12.6 μ‚¬μ©μ μ •μ λ¦¬ν¬μ§€ν† λ¦¬ κµ¬ν„
μ¤ν”„λ§ λ°μ΄ν„° JPAλ΅ λ¦¬ν¬μ§€ν† λ¦¬λ¥Ό κ°λ°ν•λ©΄ μΈν„°νμ΄μ¤λ§ μ •μν•κ³  κµ¬ν„μ²΄λ” λ§λ“¤μ§€ μ•λ”λ‹¤. 

ν•μ§€λ§ λ‹¤μ–‘ν• μ΄μ λ΅ λ©”μ„λ“λ¥Ό μ§μ ‘ κµ¬ν„ν•΄μ•Όν•  λ•λ„ μλ‹¤.

μ΄λ° κ²½μ° μ•„λμ™€ κ°™μ΄ μ‚¬μ©μ μ •μ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©΄ λλ‹¤.

- μ‚¬μ©μ μ •μ μΈν„°νμ΄μ¤
```
public interface MemberRepositoryCustom {
    public List<Member> findMemberCuston();
}
```

- μ‚¬μ©μ μ •μ κµ¬ν„ ν΄λμ¤
```
public class MemberRepositoryImpl implements MemberRepositoryCustom{
    @Override
    public List<Member> findMemberCustom() {
        ... // μ‚¬μ©μ μ •μ κµ¬ν„
    }
}
```
μ΄λ• μ‚¬μ©μ μ •μ κµ¬ν„ ν΄λμ¤μ μ΄λ¦„μ€ ```λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤ μ΄λ¦„ + Impl```λ΅ μ§€μ–΄μ•Ό ν•λ‹¤.

λ§μ•½ μ΄λ¦„ λμ— ```Impl``` λ€μ‹  λ‹¤λ¥Έ μ΄λ¦„μ„ λ¶™μ΄κ³  μ‹¶μΌλ©΄ ```repository-inpl-postfix``` μ†μ„±μ„ λ³€κ²½ν•λ©΄ λλ‹¤.

λ§μ§€λ§‰μΌλ΅ λ‹¤μκ³Ό κ°™μ΄ λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤μ—μ„ μ‚¬μ©μ μ •μ μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›μΌλ©΄ λλ‹¤.
```
public interface MemberRepository extends JpaRepository<Member, Long>, MemberRepositoryCustom{
}
```

## 12.7 Web ν™•μ¥
μ¤ν”„λ§ λ°μ΄ν„° ν”„λ΅μ νΈλ” μ¤ν”„λ¦Ό MVCμ—μ„ μ‚¬μ©ν•  μ μλ” νΈλ¦¬ν• κΈ°λ¥μ„ μ κ³µν•λ‹¤.
- λ„λ©”μΈ ν΄λμ¤ μ»¨λ²„ν„° κΈ°λ¥ : μ‹λ³„μλ΅ λ„λ©”μΈ ν΄λμ¤ λ°”λ΅ λ°”μΈλ”©
- νμ΄μ§•, μ •λ ¬

#### 12.7.1 μ„¤μ •
```org.sprinframework.data.we.config.EnableSpringDataWebSupport``` μ–΄λ…Έν…μ΄μ… μ‚¬μ©ν•λ©΄ λλ‹¤.

μ„¤μ •μ„ μ™„λ£ν•λ©΄ λ„λ©”μΈ ν΄λμ¤ μ»¨λ²„ν„°μ™€ νμ΄μ§•κ³Ό μ •λ ¬μ„ μ„ν• ```HandlerMethodArgumentResolver```κ°€ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅λλ‹¤.

#### 12.7.2 λ„λ©”μΈ ν΄λμ¤ μ»¨λ²„ν„° κΈ°λ¥

HTTP νλΌλ―Έν„°λ΅ λ„μ–΄μ¨ μ—”ν‹°ν‹°μ μ•„μ΄λ””λ΅ μ—”ν‹°ν‹° κ°μ²΄λ¥Ό μ°Ύμ•„μ„ λ°”μΈλ”©ν•΄μ¤€λ‹¤.

μ)  ```/member/memberUpdateForm?id=1```

- μ»¨νΈλ΅¤λ¬μ—μ„ νλΌλ―Έν„°λ΅ λ„μ–΄μ¨ νμ›μ•„μ΄λ””λ΅ νμ› μ—”ν‹°ν‹Έλ¥΄ μ°Ύλ”λ‹¤.
- μ°Ύμ•„μ¨ νμ› μ—”ν‹°ν‹°λ¥Ό ```model```μ„ μ‚¬μ©ν•΄μ„ λ·°μ— λ„κ²¨μ¤€λ‹¤.

- ν•μ§€λ§ λ„λ©”μΈ ν΄λμ¤ μ»¨λ²„ν„°λ¥Ό μ‚¬μ©ν•λ‹¤λ©΄ λ‹¨κ³„λ¥Ό λ‹¨μνν•  μ μλ‹¤.
- HTTP μ”μ²­μΌλ΅ νμ› μ•„μ΄λ””λ¥Ό λ°›μ§€λ§, λ„λ©”μΈ ν΄λμ¤ μ»¨λ²„ν„°κ°€ μ¤‘κ°„μ— λ™μ‘ν•΄μ„ μ•„μ΄λ””λ¥Ό νμ› μ—”ν‹°ν‹° κ°μ²΄λ΅ λ³€ν™ν•΄μ„ λ„κ²¨μ¤€λ‹¤.
- ν•΄λ‹Ή μ—”ν‹°ν‹°μ™€ κ΄€λ ¨λ λ¦¬ν¬μ§€ν† λ¦¬λ¥Ό μ‚¬μ©ν•΄μ„ μ—”ν‹°ν‹°λ¥Ό μ°Ύλ”λ‹¤.

#### 12.7.3 νμ΄μ§•κ³Ό μ •λ ¬ κΈ°λ¥
- νμ΄μ§• : PageableHandlerMethodArgumentResolver
- μ •λ ¬ : SortHandlerMethodArgumentResolver

```
@RequestMapping(value = "/members", method = RequestMethod.GET)
public String list(Pageable pageable, Model model) {
    Page<Member> page = memberService.findMembers(pageable);
    model.addAttribute("members", page.getcontent());
    return "members/memberList";
}
```
μ΄λ• νλΌλ―Έν„°λ΅ λ°›μ€ ```Pageable```λ” page, size, sortλ΅ λ§λ“¤μ–΄μ§„λ‹¤.

- page : ν„μ¬ νμ΄μ§€, 0λ¶€ν„° μ‹μ‘
- size : ν• νμ΄μ§€μ— λ…Έμ¶ν•  λ°μ΄ν„° κ±΄μ
- sort : μ •λ ¬ μ΅°κ±΄μ„ μ •μν•λ‹¤. (ASC, DESC)


μ‚¬μ©ν•΄μ•Όν•  νμ΄μ§• μ •λ³΄κ°€ λ‘ μ‡μ•„μ΄λ©΄ μ ‘λ‘μ‚¬λ¥Ό μ‚¬μ©ν•΄μ„ κµ¬λ¶„ν•  μ μλ‹¤.

Pageableμ κΈ°λ³Έκ°’μ€ page = 0, size = 20 μ΄λ‹¤.

## 12.8 μ¤ν”„λ§ λ°μ΄ν„° JPAκ°€ μ‚¬μ©ν•λ” κµ¬ν„μ²΄
```
@Repository
@Transactional(readOnly = true)
public class SimpleJpaRepository<T, ID extends Serializable> implements JpaRepository<T, ID>, JpaSpecificationExecutor<T> {
    @Transactional
    public <S extends T> S save(S entity) {
        if(entityInformation.isNew(entity)){
            em.persist(entity);
            return entity;
        } else {
            return em.merge(entity);
        }
    }
    ...
}
```
- @Repository μ μ© ; JPA μμ™Έλ¥Ό μ¤ν”„λ§μ΄ μ¶”μƒν™”ν• μμ™Έλ΅ λ³€ν™ν•λ‹¤.
- @Transactional νΈλμ μ… μ μ© : JPAμ λ¨λ“  λ³€κ²½μ€ νΈλμ μ… μ•μ—μ„ μ΄λ£¨μ–΄μ Έμ•Ό ν•λ‹¤.
- @Transactional(readOnly = true) : λ°μ΄ν„°λ¥Ό μ΅°νν•λ” λ©”μ„λ“μ—λ” readOnly = true μµμ…μ΄ μ μ©λμ–΄ μλ‹¤.
- save() λ©”μ„λ“ : μƒλ΅μ΄ μ—”ν‹°ν‹°λ©΄ μ €μ¥ν•κ³  μ΄λ―Έ μλ” μ—”ν‹°ν‹°λ©΄ λ³‘ν•©νλ‹¤.

## 12.9 JPA μƒµμ— μ μ©
- μ‹¤μµ

## 12.10 μ¤ν”„λ§ λ°μ΄ν„° JPAμ™€ QueryDSL ν†µν•©
- μ‹¤μµ
